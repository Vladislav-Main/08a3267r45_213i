(this["webpackJsonpyalantis-app-redux"]=this["webpackJsonpyalantis-app-redux"]||[]).push([[0],{40:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(8),s=c(3),r=(c(40),c(6)),l=c.n(r),o=c(0),i=function(e){var t=e.employeesMonths;return Object(o.jsx)("div",{className:"container",children:t.map((function(e,t){if(e.employee.length>0)return Object(o.jsxs)("div",{className:"selectedCards",children:[Object(o.jsx)("div",{className:"month",children:e.month}),Object(o.jsx)("div",{className:"selectedEmp",children:e.employee.map((function(e){return Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("ul",{className:"selectedEmployees",children:Object(o.jsxs)("li",{className:"selectedEmployee",children:[Object(o.jsxs)("span",{className:"selectedName",children:[e.lastName+" "+e.firstName," -"," "]}),Object(o.jsx)("span",{className:"selectedDoB",children:"".concat(l()(e.dob).format("DD"),"\n                              \n                              ").concat(l()(e.dob).format("MMMM"),", ").concat(l()(e.dob).format("YYYY")," year")})]})})},e.id)}))})]},t)}))})},d=function(){var e=Object(s.c)((function(e){return e.employees.fetchedEmployees})).filter((function(e){return e.selected}));if(0===e.length)return Object(o.jsx)("div",{className:"selectedCards",children:"Employees List is empty"});var t=e.sort((function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0})),c=["May","June","July","August","September","October","November","December","January","February","March","April"].map((function(e){return{month:e,employee:t.filter((function(t){return l()(t.dob).format("MMMM")===e}))}}));return Object(o.jsx)(i,{employeesMonths:c})},u=c(14),j=c(30),m=c(4),p=c(13),b=c.n(p),h=c(23),O=c(24),f=c.n(O),y="FETCH_EMPLOYEES_REQUEST",v="FETCH_EMPLOYEES_SUCCESS",x="FETCH_EMPLOYEES_FAILURE",E="EMPLOYEE_SET_SELECTED";function N(e){return{type:v,payload:e}}function g(e,t){return{type:E,payload:[e,t]}}var M={fetchedEmployees:[],loading:!1,error:null},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(m.a)(Object(m.a)({},e),{},{loading:!0});case v:return Object(m.a)(Object(m.a)({},e),{},{fetchedEmployees:t.payload});case x:return Object(m.a)(Object(m.a)({},e),{},{error:t.payload});case E:var c=Object(j.a)(t.payload,2),n=c[0],a=c[1],s=e.fetchedEmployees.findIndex((function(e){return e.id===n})),r=Object(u.a)(e.fetchedEmployees),l=Object(m.a)({},r[s]);return l.selected=a,r[s]=l,localStorage.setItem("selectedIds",r.filter((function(e){return e.selected})).map((function(e){return e.id})).join(",")),{fetchedEmployees:Object(u.a)(r)};default:return e}},S=function(e){var t=e.employee,c=Object(s.b)();return Object(o.jsxs)("div",{children:[Object(o.jsxs)("p",{className:"button",children:[Object(o.jsx)("input",{tabIndex:"selector",type:"radio",name:t.id,value:"not active",checked:!t.selected,onChange:function(){c(g(t.id,!1))}}),Object(o.jsx)("label",{htmlFor:"not active",children:" not active"})]}),Object(o.jsxs)("p",{className:"button",children:[Object(o.jsx)("input",{tabIndex:"selector",type:"radio",name:t.id,value:"active",checked:t.selected,onChange:function(){c(g(t.id,!0))}}),Object(o.jsx)("label",{htmlFor:"active",children:" active"})]})]},"buttons")},k=function(e){var t=e.employeesLetters;return Object(o.jsx)("div",{className:"fetchedEmp",children:t.map((function(e,t){return e.employees.length>0?Object(o.jsxs)("div",{className:"letter",children:[e.letter,Object(o.jsx)("div",{children:e.employees.map((function(e){return Object(o.jsxs)("div",{className:"content",children:[Object(o.jsx)("p",{className:"names",style:{color:e.selected?"blue":"black"},children:e.lastName+" "+e.firstName}),Object(o.jsx)(S,{employee:e})]},e.id)}))})]},t):Object(o.jsxs)("div",{className:"letter",children:[e.letter,Object(o.jsx)("div",{className:"content",children:"----"})]},t)}))})},I=function(e){var t=e.fetchedEmployees,c=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((function(e){return{letter:e,employees:t.filter((function(t){return t.lastName.toUpperCase().charAt(0)===e}))}}));return Object(o.jsx)(k,{employeesLetters:c})};var L=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return{fetchedEmployees:e.employees.fetchedEmployees}})).fetchedEmployees;return Object(n.useEffect)((function(){e(function(){var e=Object(h.a)(b.a.mark((function e(t){var c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:y,loading:!0}),e.next=4,f.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 4:200===(null===(c=e.sent)||void 0===c?void 0:c.status)&&(n=c.data.sort((function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0})).map((function(e){var t=localStorage.getItem("selectedIds");if(t){var c=t.split(",");e.selected=c.includes(e.id)}return e})),t(N(n))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t((a=e.t0,{type:x,error:a}));case 11:case"end":return e.stop()}var a}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(o.jsx)(I,{fetchedEmployees:t})};var Y=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsxs)("div",{className:"employees",children:[Object(o.jsx)("h2",{children:"Employees"}),Object(o.jsx)("div",{className:"mainContent selected",children:Object(o.jsx)(L,{})})]}),Object(o.jsxs)("div",{className:"employees",children:[Object(o.jsx)("h2",{children:"Employees birthday"}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"mainContent",children:Object(o.jsx)(d,{})})]})]})},w=c(5),D=c(25),F=c(26),T=Object(w.combineReducers)({employees:C}),_=Object(w.createStore)(T,Object(D.composeWithDevTools)(Object(w.applyMiddleware)(F.a))),A=c(27),J=c(28),P=c(31),U=c(29),H=function(){return Object(o.jsx)("div",{children:"Something has gone wrong"})},R=function(e){Object(P.a)(c,e);var t=Object(U.a)(c);function c(){var e;Object(A.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(J.a)(c,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(o.jsx)(H,{}):this.props.children}}]),c}(n.Component),B=Object(o.jsx)(s.a,{store:_,children:Object(o.jsx)(R,{children:Object(o.jsx)(Y,{})})});Object(a.render)(B,document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.a9c82da8.chunk.js.map